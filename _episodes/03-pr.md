---
title: "Pull Requests"
teaching: 10
exercises: 0
questions:
- "What is a Pull Request?"
- "Why use Pull Requests?"
- "How do we use Pull Requests?"
objectives:
- "Understand the Pull Request process"
- "Be able to create and merge a Pull Request"
keypoints:
- A Pull Request is a GitHub a process to request that a branch be merged into another branch.
- Pull requests provide a process and an opportunity for code review before merging branches and can be a mechanism for proposing, discussing, and requesting changes before the branch is merged.
---

## What are Pull Requests?

A Pull Request is a GitHub a process to request that a branch be merged into another branch. It's called a "Pull Request" because you are requesting that the change introduced be pulled into the other branch. In GitLab it is called a "Merge Request". Pull requests provide a process and an opportunity for code review before merging branches you don't own or manage by yourself, such as the main branch. They can also be a mechanism for proposing and discussing changes, and requesting additional changes be made before the branch is merged.

## Working with Pull Requests

### Creating a Pull Request

First, make sure you don't have any commits you haven't pushed to GitHub. Go to your local repository and run `git status`. If you have any commits you haven't yet pushed, push them now with `git push`. Remember, if you haven't pushed from this branch to the remote repository yet, you will be prompted to publish your branch with `git push --set-upstream origin my_new_branch`.

Now navigate to your branch in GitHub. If you've pushed any commits recently you may see a callout that says your branch has recent pushes and provides a button that says "Compare and Pull Request". Pressing this will bring you to the form to create your Pull Request to the main branch. If you don't have this button, you can select "Pull Requests" at the top of the page and select "New Pull Request". From there select your branch under the "compare" dropdown. If you would like to merge your branch into a branch other than main, select that branch under the "base" dropdown. Then select "Create Pull Request".

At this point you will see a form. Fill out the form with a title and description for the Pull Request, and then click "Create Pull Request". We will go more in depth on how to make good pull requests in a later section.

### Anatomy of a Pull Request

- Conversation tab
- Commits
- Files changed
- CI

### Updating a Pull Request

Once the Pull Request is created you and anyone with access to the repository can make comments on the request. These comments might be clarifying questions or requests for additional changes. If additional changes are needed, make those changes in your branch and push them. The commits will be added to the Pull Request automatically and appear on the main Conversation page.

### Accepting and Merging a Pull Request

Once a Pull Request has been reviewed and ready to be accepted, it can be merged. First verify that the branch has no conflicts with the base branch (the one that will be merged into). Any conflicts should be addressed with additional commits. When ready to merge, click "Merge Pull Request", then click "Confirm merge". You will be given the option to delete the branch. Whether you delete the branch depends on its purpose and how you and your group want to handle branches that have been merged. Deleting feature branches helps keep clutter down and makes it easier to find relevant branches. However, if you have any longer term branches, such as a development or production branch, you wouldn't want to delete that.

## Outline

- Pull requests â€“ create, manage, etc.
  - Why use PRs
    - Have a process for reviewing and merging changes/updates (bug fixes, new features, refactoring, adding to documentation, etc)
    - Can be a mechanism for proposing and discussing changes
  - How to use PRs (can point to another resource)
    - How to create one
    - How to update one
    - (How to review will be discussed later)
    - How to accept/merge one

## TODO

- Add activity
- Incorporate figures

{% include links.md %}
